2025-01-29 20:58:46.223 +03:00 [INF] Starting web application
2025-01-29 20:58:46.353 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5264: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-01-29 20:58:46.377 +03:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5264: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI\Program.cs:line 59
2025-01-29 20:59:00.702 +03:00 [INF] Starting web application
2025-01-29 20:59:00.847 +03:00 [INF] Now listening on: http://localhost:5000
2025-01-29 20:59:00.854 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 20:59:00.855 +03:00 [INF] Hosting environment: Development
2025-01-29 20:59:00.856 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 20:59:59.347 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/test - null null
2025-01-29 20:59:59.390 +03:00 [WRN] Failed to determine the https port for redirect.
2025-01-29 20:59:59.395 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/test - 404 0 null 51.1833ms
2025-01-29 20:59:59.406 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/api/test, Response status code: 404
2025-01-29 21:00:20.898 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/test/health - null null
2025-01-29 21:00:20.905 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/test/health - 404 0 null 7.0725ms
2025-01-29 21:00:20.920 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/api/test/health, Response status code: 404
2025-01-29 21:05:09.342 +03:00 [INF] Application is shutting down...
2025-01-29 21:06:51.506 +03:00 [INF] Starting web application
2025-01-29 21:06:51.596 +03:00 [INF] Now listening on: http://localhost:7000
2025-01-29 21:06:51.599 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 21:06:51.600 +03:00 [INF] Hosting environment: Development
2025-01-29 21:06:51.600 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 21:07:15.741 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/minimaltest - null null
2025-01-29 21:07:15.778 +03:00 [WRN] Failed to determine the https port for redirect.
2025-01-29 21:07:15.784 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.MinimalTestController.Get (NayifatAPI)'
2025-01-29 21:07:15.803 +03:00 [INF] Route matched with {action = "Get", controller = "MinimalTest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller NayifatAPI.Controllers.MinimalTestController (NayifatAPI).
2025-01-29 21:07:15.826 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType8`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 21:07:15.859 +03:00 [INF] Executed action NayifatAPI.Controllers.MinimalTestController.Get (NayifatAPI) in 51.1816ms
2025-01-29 21:07:15.866 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.MinimalTestController.Get (NayifatAPI)'
2025-01-29 21:07:15.869 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/minimaltest - 200 null application/json; charset=utf-8 129.1408ms
2025-01-29 21:07:16.036 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/favicon.ico - null null
2025-01-29 21:07:16.043 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/favicon.ico - 404 0 null 6.8935ms
2025-01-29 21:07:16.048 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/favicon.ico, Response status code: 404
2025-01-29 21:08:05.270 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/minimaltest/ping - null null
2025-01-29 21:08:05.277 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.MinimalTestController.Ping (NayifatAPI)'
2025-01-29 21:08:05.281 +03:00 [INF] Route matched with {action = "Ping", controller = "MinimalTest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Ping() on controller NayifatAPI.Controllers.MinimalTestController (NayifatAPI).
2025-01-29 21:08:05.283 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType8`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 21:08:05.286 +03:00 [INF] Executed action NayifatAPI.Controllers.MinimalTestController.Ping (NayifatAPI) in 3.3724ms
2025-01-29 21:08:05.290 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.MinimalTestController.Ping (NayifatAPI)'
2025-01-29 21:08:05.293 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/minimaltest/ping - 200 null application/json; charset=utf-8 22.8593ms
2025-01-29 21:10:10.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test - null null
2025-01-29 21:10:10.909 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test - 404 0 null 2.1716ms
2025-01-29 21:10:10.912 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/test, Response status code: 404
2025-01-29 21:10:21.594 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test/health - null null
2025-01-29 21:10:21.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test/health - 404 0 null 17.9044ms
2025-01-29 21:10:21.615 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/test/health, Response status code: 404
2025-01-29 21:10:30.141 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test/db-connection - null null
2025-01-29 21:10:30.205 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test/db-connection - 404 0 null 63.9297ms
2025-01-29 21:10:30.208 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/test/db-connection, Response status code: 404
2025-01-29 21:10:39.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test/db-tables - null null
2025-01-29 21:10:39.888 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test/db-tables - 404 0 null 3.7295ms
2025-01-29 21:10:39.891 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/test/db-tables, Response status code: 404
2025-01-29 21:18:03.148 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test/sql-info - null null
2025-01-29 21:18:03.151 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test/sql-info - 404 0 null 2.7887ms
2025-01-29 21:18:03.156 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/test/sql-info, Response status code: 404
2025-01-29 21:25:28.959 +03:00 [WRN] No store type was specified for the decimal property 'SalaryCustomer' on entity type 'Customer'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-29 21:25:29.011 +03:00 [WRN] No store type was specified for the decimal property 'SalaryDakhli' on entity type 'Customer'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-29 21:25:29.378 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-01-29 21:25:29.479 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-01-29 21:25:29.484 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-01-29 21:25:29.486 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-01-29 21:25:29.506 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-01-29 21:25:29.522 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-01-29 21:25:46.565 +03:00 [INF] Starting web application
2025-01-29 21:25:46.714 +03:00 [INF] Now listening on: http://localhost:7000
2025-01-29 21:25:46.721 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 21:25:46.723 +03:00 [INF] Hosting environment: Development
2025-01-29 21:25:46.723 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 21:25:58.208 +03:00 [INF] Application is shutting down...
2025-01-29 21:26:15.924 +03:00 [INF] Starting web application
2025-01-29 21:26:16.081 +03:00 [INF] Now listening on: http://localhost:7000
2025-01-29 21:26:16.088 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 21:26:16.090 +03:00 [INF] Hosting environment: Development
2025-01-29 21:26:16.094 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 21:26:48.299 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test - null null
2025-01-29 21:26:48.352 +03:00 [WRN] Failed to determine the https port for redirect.
2025-01-29 21:26:48.358 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test - 404 0 null 59.6578ms
2025-01-29 21:26:48.370 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/test, Response status code: 404
2025-01-29 21:26:57.376 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test/sql-info - null null
2025-01-29 21:26:57.387 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test/sql-info - 404 0 null 11.5256ms
2025-01-29 21:26:57.399 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/test/sql-info, Response status code: 404
2025-01-29 21:31:12.267 +03:00 [INF] Application is shutting down...
2025-01-29 21:31:18.913 +03:00 [INF] Starting web application
2025-01-29 21:31:19.041 +03:00 [INF] Now listening on: http://localhost:7000
2025-01-29 21:31:19.046 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 21:31:19.047 +03:00 [INF] Hosting environment: Development
2025-01-29 21:31:19.048 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 21:31:40.208 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test/sql-info - null null
2025-01-29 21:31:40.282 +03:00 [WRN] Failed to determine the https port for redirect.
2025-01-29 21:31:40.292 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test/sql-info - 404 0 null 86.38ms
2025-01-29 21:31:40.315 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7000/test/sql-info, Response status code: 404
2025-01-29 21:57:32.081 +03:00 [INF] Application is shutting down...
2025-01-29 21:59:14.280 +03:00 [INF] Starting web application
2025-01-29 21:59:14.424 +03:00 [INF] Now listening on: http://localhost:7000
2025-01-29 21:59:14.430 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 21:59:14.431 +03:00 [INF] Hosting environment: Development
2025-01-29 21:59:14.432 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 21:59:41.292 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test/sql-info - null null
2025-01-29 21:59:41.355 +03:00 [WRN] Failed to determine the https port for redirect.
2025-01-29 21:59:41.360 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.TestController.GetSqlInfo (NayifatAPI)'
2025-01-29 21:59:41.386 +03:00 [INF] Route matched with {action = "GetSqlInfo", controller = "Test"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSqlInfo() on controller NayifatAPI.Controllers.TestController (NayifatAPI).
2025-01-29 21:59:41.949 +03:00 [WRN] No store type was specified for the decimal property 'SalaryCustomer' on entity type 'Customer'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-29 21:59:41.951 +03:00 [WRN] No store type was specified for the decimal property 'SalaryDakhli' on entity type 'Customer'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-29 21:59:42.096 +03:00 [ERR] Error getting SQL Server information
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlConnection.GetOpenTdsConnection()
   at Microsoft.Data.SqlClient.SqlConnection.get_ServerVersion()
   at NayifatAPI.Controllers.TestController.GetSqlInfo() in C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI\Controllers\TestController.cs:line 41
2025-01-29 21:59:42.129 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 21:59:42.151 +03:00 [INF] Executed action NayifatAPI.Controllers.TestController.GetSqlInfo (NayifatAPI) in 759.2461ms
2025-01-29 21:59:42.158 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.TestController.GetSqlInfo (NayifatAPI)'
2025-01-29 21:59:42.200 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test/sql-info - 500 null application/json; charset=utf-8 909.1295ms
2025-01-29 22:00:01.562 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test - null null
2025-01-29 22:00:01.620 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.TestController.Get (NayifatAPI)'
2025-01-29 22:00:01.624 +03:00 [INF] Route matched with {action = "Get", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller NayifatAPI.Controllers.TestController (NayifatAPI).
2025-01-29 22:00:01.629 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType8`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 22:00:01.765 +03:00 [INF] Executed action NayifatAPI.Controllers.TestController.Get (NayifatAPI) in 138.5341ms
2025-01-29 22:00:02.010 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.TestController.Get (NayifatAPI)'
2025-01-29 22:00:02.014 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test - 200 null application/json; charset=utf-8 451.2706ms
2025-01-29 22:01:01.873 +03:00 [INF] Application is shutting down...
2025-01-29 22:01:19.058 +03:00 [INF] Starting web application
2025-01-29 22:01:19.440 +03:00 [INF] Now listening on: http://localhost:7000
2025-01-29 22:01:19.486 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 22:01:19.487 +03:00 [INF] Hosting environment: Development
2025-01-29 22:01:19.488 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 22:01:46.329 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7000/test/sql-info - null null
2025-01-29 22:01:46.370 +03:00 [WRN] Failed to determine the https port for redirect.
2025-01-29 22:01:46.375 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.TestController.GetSqlInfo (NayifatAPI)'
2025-01-29 22:01:46.404 +03:00 [INF] Route matched with {action = "GetSqlInfo", controller = "Test"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSqlInfo() on controller NayifatAPI.Controllers.TestController (NayifatAPI).
2025-01-29 22:01:47.022 +03:00 [WRN] No store type was specified for the decimal property 'SalaryCustomer' on entity type 'Customer'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-29 22:01:47.024 +03:00 [WRN] No store type was specified for the decimal property 'SalaryDakhli' on entity type 'Customer'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-29 22:01:47.479 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-01-29 22:01:47.510 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType31`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType30`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NayifatAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 22:01:47.545 +03:00 [INF] Executed action NayifatAPI.Controllers.TestController.GetSqlInfo (NayifatAPI) in 1134.0708ms
2025-01-29 22:01:47.549 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.TestController.GetSqlInfo (NayifatAPI)'
2025-01-29 22:01:47.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7000/test/sql-info - 200 null application/json; charset=utf-8 1243.762ms
2025-01-29 22:07:19.828 +03:00 [INF] Application is shutting down...
2025-01-29 22:07:26.475 +03:00 [INF] Starting web application
2025-01-29 22:07:26.617 +03:00 [INF] Now listening on: http://localhost:7000
2025-01-29 22:07:26.623 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 22:07:26.624 +03:00 [INF] Hosting environment: Development
2025-01-29 22:07:26.625 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 22:12:39.369 +03:00 [INF] Application is shutting down...
2025-01-29 22:19:46.292 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-01-29 22:19:46.441 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-01-29 22:19:46.449 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-01-29 22:19:46.452 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-01-29 22:19:46.474 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-01-29 22:19:46.493 +03:00 [INF] Applying migration '20250129191919_CreateNayifatSchema'.
2025-01-29 22:19:46.592 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_User_Notifications_NationalId] ON [User_Notifications];
2025-01-29 22:19:46.598 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_OTP_Codes_national_id] ON [OTP_Codes];
2025-01-29 22:19:46.602 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Customer_Devices_NationalId] ON [Customer_Devices];
2025-01-29 22:19:46.618 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MasterConfigs] DROP CONSTRAINT [PK_MasterConfigs];
2025-01-29 22:19:46.709 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[MasterConfigs]') AND [c].[name] = N'LastUpdated');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [MasterConfigs] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [MasterConfigs] DROP COLUMN [LastUpdated];
2025-01-29 22:19:47.360 +03:00 [INF] Executed DbCommand (647ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[MasterConfigs]', N'master_config';
2025-01-29 22:19:47.365 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[master_config].[IX_MasterConfigs_Page]', N'IX_master_config_Page', N'INDEX';
2025-01-29 22:19:47.422 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[User_Notifications]') AND [c].[name] = N'NotificationId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [User_Notifications] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [User_Notifications] ALTER COLUMN [NotificationId] nvarchar(450) NOT NULL;
2025-01-29 22:19:47.457 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[User_Notifications]') AND [c].[name] = N'CreatedAt');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [User_Notifications] DROP CONSTRAINT [' + @var2 + '];');
2025-01-29 22:19:47.499 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[OTP_Codes]') AND [c].[name] = N'type');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [OTP_Codes] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [OTP_Codes] ALTER COLUMN [type] nvarchar(450) NOT NULL;
2025-01-29 22:19:47.537 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[OTP_Codes]') AND [c].[name] = N'created_at');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [OTP_Codes] DROP CONSTRAINT [' + @var4 + '];');
2025-01-29 22:19:47.580 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'Zipcode');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Customers] ALTER COLUMN [Zipcode] nvarchar(max) NULL;
2025-01-29 22:19:47.620 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'Street');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Customers] ALTER COLUMN [Street] nvarchar(max) NULL;
2025-01-29 22:19:47.661 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'Sector');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Customers] ALTER COLUMN [Sector] nvarchar(max) NULL;
2025-01-29 22:19:47.702 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'RegistrationDate');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var8 + '];');
2025-01-29 22:19:47.741 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'NafathStatus');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Customers] ALTER COLUMN [NafathStatus] nvarchar(max) NULL;
2025-01-29 22:19:47.778 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'IdExpiryDate');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Customers] ALTER COLUMN [IdExpiryDate] datetime2 NULL;
2025-01-29 22:19:47.813 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'Iban');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Customers] ALTER COLUMN [Iban] nvarchar(max) NULL;
2025-01-29 22:19:47.850 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'Employer');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Customers] ALTER COLUMN [Employer] nvarchar(max) NULL;
2025-01-29 22:19:47.886 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'District');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Customers] ALTER COLUMN [District] nvarchar(max) NULL;
2025-01-29 22:19:47.921 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'DateOfBirth');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [Customers] ALTER COLUMN [DateOfBirth] datetime2 NULL;
2025-01-29 22:19:47.958 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'City');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [Customers] ALTER COLUMN [City] nvarchar(max) NULL;
2025-01-29 22:19:47.995 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'BuildingNo');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [Customers] ALTER COLUMN [BuildingNo] nvarchar(max) NULL;
2025-01-29 22:19:48.031 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customers]') AND [c].[name] = N'AddNo');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [Customers] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [Customers] ALTER COLUMN [AddNo] nvarchar(max) NULL;
2025-01-29 22:19:48.035 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Customers] ADD [Mpin] nvarchar(max) NULL;
2025-01-29 22:19:48.038 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Customers] ADD [MpinEnabled] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-01-29 22:19:48.072 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var18 sysname;
SELECT @var18 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Customer_Devices]') AND [c].[name] = N'CreatedAt');
IF @var18 IS NOT NULL EXEC(N'ALTER TABLE [Customer_Devices] DROP CONSTRAINT [' + @var18 + '];');
2025-01-29 22:19:48.113 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var19 sysname;
SELECT @var19 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AuthLogs]') AND [c].[name] = N'NationalId');
IF @var19 IS NOT NULL EXEC(N'ALTER TABLE [AuthLogs] DROP CONSTRAINT [' + @var19 + '];');
ALTER TABLE [AuthLogs] ALTER COLUMN [NationalId] nvarchar(450) NOT NULL;
2025-01-29 22:19:48.143 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var20 sysname;
SELECT @var20 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AuthLogs]') AND [c].[name] = N'CreatedAt');
IF @var20 IS NOT NULL EXEC(N'ALTER TABLE [AuthLogs] DROP CONSTRAINT [' + @var20 + '];');
2025-01-29 22:19:48.191 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var21 sysname;
SELECT @var21 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[master_config]') AND [c].[name] = N'KeyName');
IF @var21 IS NOT NULL EXEC(N'ALTER TABLE [master_config] DROP CONSTRAINT [' + @var21 + '];');
ALTER TABLE [master_config] ALTER COLUMN [KeyName] nvarchar(450) NOT NULL;
2025-01-29 22:19:48.197 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [master_config] ADD [UpdatedAt] datetime2 NULL;
2025-01-29 22:19:48.204 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [master_config] ADD CONSTRAINT [PK_master_config] PRIMARY KEY ([Id]);
2025-01-29 22:19:48.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_User_Notifications_NationalId_IsRead] ON [User_Notifications] ([NationalId], [IsRead]);
2025-01-29 22:19:48.210 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_User_Notifications_NotificationId] ON [User_Notifications] ([NotificationId]);
2025-01-29 22:19:48.214 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OTP_Codes_expires_at] ON [OTP_Codes] ([expires_at]);
2025-01-29 22:19:48.217 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OTP_Codes_national_id_type_is_used] ON [OTP_Codes] ([national_id], [type], [is_used]);
2025-01-29 22:19:48.220 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Customer_Devices_NationalId_DeviceId] ON [Customer_Devices] ([NationalId], [DeviceId]);
2025-01-29 22:19:48.223 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AuthLogs_NationalId_CreatedAt] ON [AuthLogs] ([NationalId], [CreatedAt]);
2025-01-29 22:19:48.227 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_master_config_Page_KeyName] ON [master_config] ([Page], [KeyName]);
2025-01-29 22:19:48.231 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AuthLogs] ADD CONSTRAINT [FK_AuthLogs_Customers_NationalId] FOREIGN KEY ([NationalId]) REFERENCES [Customers] ([NationalId]) ON DELETE CASCADE;
2025-01-29 22:19:48.234 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250129191919_CreateNayifatSchema', N'8.0.1');
2025-01-29 22:20:43.462 +03:00 [INF] Starting web application
2025-01-29 22:20:44.366 +03:00 [INF] Now listening on: http://localhost:5264
2025-01-29 22:20:44.858 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-29 22:20:45.186 +03:00 [INF] Hosting environment: Development
2025-01-29 22:20:45.187 +03:00 [INF] Content root path: C:\Users\yamta\StudioProjects\nayifat_app_2025_new\NayifatAPI
2025-01-29 22:22:22.463 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5264/api/config - application/json 76
2025-01-29 22:22:22.517 +03:00 [WRN] Failed to determine the https port for redirect.
2025-01-29 22:22:22.522 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.ConfigController.SetConfig (NayifatAPI)'
2025-01-29 22:22:22.548 +03:00 [INF] Route matched with {action = "SetConfig", controller = "Config"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SetConfig(NayifatAPI.Controllers.SetConfigRequest) on controller NayifatAPI.Controllers.ConfigController (NayifatAPI).
2025-01-29 22:22:24.357 +03:00 [INF] Executed DbCommand (536ms) [Parameters=[@__request_Page_0='?' (Size = 450), @__request_KeyName_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[IsActive], [m].[KeyName], [m].[Page], [m].[UpdatedAt], [m].[Value]
FROM [master_config] AS [m]
WHERE [m].[Page] = @__request_Page_0 AND [m].[KeyName] = @__request_KeyName_1
2025-01-29 22:22:24.533 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 450), @p3='?' (Size = 450), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [master_config] ([CreatedAt], [IsActive], [KeyName], [Page], [UpdatedAt], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-01-29 22:22:24.562 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType11`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 22:22:24.598 +03:00 [INF] Executed action NayifatAPI.Controllers.ConfigController.SetConfig (NayifatAPI) in 2045.1796ms
2025-01-29 22:22:24.601 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.ConfigController.SetConfig (NayifatAPI)'
2025-01-29 22:22:24.611 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5264/api/config - 200 null application/json; charset=utf-8 2149.8793ms
2025-01-29 22:22:37.269 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5264/api/config/page/app - application/json null
2025-01-29 22:22:37.281 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.ConfigController.GetPageConfig (NayifatAPI)'
2025-01-29 22:22:37.291 +03:00 [INF] Route matched with {action = "GetPageConfig", controller = "Config"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPageConfig(System.String) on controller NayifatAPI.Controllers.ConfigController (NayifatAPI).
2025-01-29 22:22:37.412 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__page_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[IsActive], [m].[KeyName], [m].[Page], [m].[UpdatedAt], [m].[Value]
FROM [master_config] AS [m]
WHERE [m].[Page] = @__page_0 AND [m].[IsActive] = CAST(1 AS bit)
2025-01-29 22:22:37.445 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType11`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 22:22:37.462 +03:00 [INF] Executed action NayifatAPI.Controllers.ConfigController.GetPageConfig (NayifatAPI) in 168.8795ms
2025-01-29 22:22:37.463 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.ConfigController.GetPageConfig (NayifatAPI)'
2025-01-29 22:22:37.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5264/api/config/page/app - 200 null application/json; charset=utf-8 195.1126ms
2025-01-29 22:23:02.594 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5264/api/config/page/app - null null
2025-01-29 22:23:02.927 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.ConfigController.GetPageConfig (NayifatAPI)'
2025-01-29 22:23:02.928 +03:00 [INF] Route matched with {action = "GetPageConfig", controller = "Config"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPageConfig(System.String) on controller NayifatAPI.Controllers.ConfigController (NayifatAPI).
2025-01-29 22:23:03.163 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__page_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[IsActive], [m].[KeyName], [m].[Page], [m].[UpdatedAt], [m].[Value]
FROM [master_config] AS [m]
WHERE [m].[Page] = @__page_0 AND [m].[IsActive] = CAST(1 AS bit)
2025-01-29 22:23:03.195 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType11`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 22:23:03.293 +03:00 [INF] Executed action NayifatAPI.Controllers.ConfigController.GetPageConfig (NayifatAPI) in 301.0796ms
2025-01-29 22:23:03.295 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.ConfigController.GetPageConfig (NayifatAPI)'
2025-01-29 22:23:03.300 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5264/api/config/page/app - 200 null application/json; charset=utf-8 705.405ms
2025-01-29 22:23:32.920 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5264/api/registration/register - application/json 643
2025-01-29 22:23:32.924 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5264/api/registration/register - 404 0 null 3.6463ms
2025-01-29 22:23:32.927 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5264/api/registration/register, Response status code: 404
2025-01-29 22:24:12.122 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5264/swagger/index.html - null null
2025-01-29 22:24:12.280 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5264/swagger/index.html - 200 null text/html;charset=utf-8 157.8242ms
2025-01-29 22:24:12.536 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5264/swagger/v1/swagger.json - null null
2025-01-29 22:24:12.679 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.3974ms
2025-01-29 22:24:46.364 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5264/api/auth/otp/generate - application/json 47
2025-01-29 22:24:46.366 +03:00 [INF] Executing endpoint 'NayifatAPI.Controllers.AuthController.GenerateOtp (NayifatAPI)'
2025-01-29 22:24:46.372 +03:00 [INF] Route matched with {action = "GenerateOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateOtp(NayifatAPI.Controllers.OtpGenerateRequest) on controller NayifatAPI.Controllers.AuthController (NayifatAPI).
2025-01-29 22:24:46.386 +03:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-29 22:24:46.393 +03:00 [INF] Executed action NayifatAPI.Controllers.AuthController.GenerateOtp (NayifatAPI) in 18.414ms
2025-01-29 22:24:46.395 +03:00 [INF] Executed endpoint 'NayifatAPI.Controllers.AuthController.GenerateOtp (NayifatAPI)'
2025-01-29 22:24:46.396 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5264/api/auth/otp/generate - 401 null application/json; charset=utf-8 32.1453ms
